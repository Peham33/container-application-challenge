<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="stylesheet" href="styles/system-status.css" />
    <title>Container Application Challenge</title>
</head>

<body>
    <nav>
        <a class="nav-item" href="index.html">Mission Overview</a>
        <a class="nav-item nav-item-active" href="compose-challenges-1.html">Compose Challenges</a>
        <a class="nav-item" href="kubernetes-challenges-1.html">Kubernetes Challenges</a>
    </nav>
    <main>
        <div id="description">
            <div class="story">
                <h2>Ihre Mission</h2>
                <p>Willkommen, Agent!</p>
                <p>Hier startet Ihre erste Trainings-Mission. Wir beginnen mit einer Aufgabe zu <a
                        href="https://docs.docker.com/compose/">docker-compose</a>.</p>
                <p>Sie arbeiten dabei auf einer Testinstanz unseres <strong>Agenten-Verwaltung-Systems</strong>. Es speichert und verwaltet unsere Agenten sowie deren Missionen in einer Datenbank und ermöglicht den Zugriff über eine REST-API.</p>
                <p>Damit ein sicherer Zugriff möglich ist, verwenden wir einen Reverse-Proxy zur Terminierung von SSL Verbindungen, der Aufrufe anschließend an unsere API weiterleitet.</p>
                <img src="images/access-flow-diagram.svg" alt="Zugriffsdiagram für unser Agentensystem" width="600px">
            </div>

            <div class="instructions">
                <h2>Missionsziel</h2>
                <p>
                    Ihre erste Aufgabe besteht darin, den Java API Server erreichbar zu machen. Stellen Sie dafür beim docker-compose File den richtigen Backend-Port für die API ein. Den Backend-Port finden Sie in der haproxy.cfg (/ha-proxy/haproxy.cfg). Machen Sie diesen von dem Port 80 von außen erreichbar. (<a target="_blank" href="https://www.haproxy.com/de/blog/the-four-essential-sections-of-an-haproxy-configuration/">HAProxy configuration essentials</a>)
                </p>

                <p>Zum Testen rufen Sie das folgende Kommando in der VM auf:</p>
                <p>
                    <code>curl -L "http://localhost:80/missions"</code>
                    <button onclick="copyToClipboard('curl -L &quot;http://localhost:80/missions&quot;')">
                        <img src="../images/clipboard.svg" width="15" alt="Kopieren">
                    </button>
                </p>
                <p>
                    Der Aufruf sollte ein leeres Ergebnis enthalten.
                </p>
            </div>

        </div>
        <button id="run-tests">Tests ausführen</button>
        <div id="test-cases"></div>
        <a href="compose-challenges-1.html"><button id="previous" class="btn" disabled>&laquo; Zurück</button></a>
        <a href="compose-challenges-2.html"><button id="next" class="btn">Weiter &raquo;</button></a>
    </main>
    <script src="script/base.js"></script>
    <script defer type="module" src="script/compose-challenges-1.js"></script>
</body>

</html>
