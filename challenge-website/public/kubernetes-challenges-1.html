<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="stylesheet" href="styles/system-status.css" />
    <title>Container Application Challenge</title>
</head>

<body>
    <nav>
        <a class="nav-item" href="index.html">Mission Overview</a>
        <a class="nav-item" href="compose-challenges-1.html">Compose Challenges</a>
        <a class="nav-item nav-item-active" href="kubernetes-challenges-1.html">Kubernetes Challenges</a>
    </nav>
    <main>
        <div id="description">
            <div class="story">
                <h2>Ihre Mission</h2>
                <p>Sehr gut! Wie wir sehen haben Sie das Training erfolgreich abgeschlossen. Da Sie nun die Grundlagen
                    beherrschen können wir uns sicher sein, dass Sie auch diese wichtige Mission für uns erfolgreich
                    abschließen können.</p>
                <p>In letzter Zeit bestanden einige Differenzen zu einem anderen Geheimdienst. Dieser hat einen
                    Doppelagenten bei uns eingeschleust, um an wichtige Informationen von unseren Missionen zu kommen.
                    Um seine Spuren zu verwischen, hat er unsere Infrastruktur beschädigt.</p>
                <p>Den Doppelagenten konnten wir inzwischen ausfindig machen, die Schäden bestehen allerdings weiter.
                    Nun liegt es an Ihnen die Infrastruktur so gut wie möglich wieder herzustellen, damit wir unsere
                    Arbeiten wieder aufnehmen können. Bei diesen Aufgaben lassen wir Sie nicht alleine. Sie werden immer
                    wieder Hinweise von uns bekommen.</p>
                <p>Viel Glück, wir zählen auf Sie!</p>
            </div>

            <div class="instructions">
                <h2>Missionsziel</h2>
                <p>Bei dem Versuch die API zu erreichen, wird immer ein 503 Error <i>Service Temporarily unavailable</i>
                    geliefert.</p>
                <p>Um den Fehler zu beheben, müssen Sie ein API Service in der api.service.yaml Datei konfigurieren,
                    welches über den Port 8080 erreichbar ist. (<a target="_blank"
                        href="https://kubernetes.io/docs/concepts/services-networking/service/">Kubernetes Services</a>)
                </p>
                <p>Der Doppelagent hat außerdem Sicherheitslücken in unseren Konfigurationen hinterlassen. Um unser
                    System sicherer zu machen, sollten Sie unsere Applikation (API- und Datenbank-Deployment) mit
                    Datenbank-Credentials erweitern.
                    Übernehmen Sie dafür die Key-Value Pairs DB_USERNAME und DB_PASSWORD aus der Api Configmap in ein
                    Kubernetes Secret und binden Sie dieses als Umgebungvariable in die Deployments ein. (<a
                        target="_blank"
                        href="https://kubernetes.io/docs/tasks/inject-data-application/distribute-credentials-secure/">Kubernetes
                        secure credentials</a>)</p>
            </div>
        </div>
        <button id="run-tests">Tests ausführen</button>
        <div id="test-cases"></div>
        <button id="previous" class="btn always-disabled" disabled>&laquo; Zurück</button>
        <a href="kubernetes-challenges-2.html"><button id="next" class="btn">Weiter &raquo;</button></a>
    </main>
    <script src="script/base.js"></script>
    <script defer type="module" src="script/kubernetes-challenges-1.js"></script>
</body>

</html>